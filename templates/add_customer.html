{% extends "base.html" %}

{% block title %}Add Customer - Consultancy Billing System{% endblock %}

{% block content %}
<div class="card" style="max-width: 900px; margin: 0 auto;">
    <div class="card-header">
        <h1 class="card-title">Add New Customer</h1>
        <p class="card-subtitle">Enter customer details to create a new account</p>
    </div>

    <div class="hint"
        style="margin-bottom: var(--spacing-lg); background: #E3F2FD; padding: var(--spacing-md); border-radius: var(--radius-md);">
        <strong>Quick Tip:</strong> Fields marked with * are required. You can always edit customer details later.
    </div>

    <form method="POST" action="{{ url_for('add_customer') }}">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg);">
            <div class="form-group">
                <label for="name">Customer Name *</label>
                <input type="text" id="name" name="name" required placeholder="Enter full name" autocomplete="name">
                <small class="hint" style="margin-top: 4px;">Enter the complete name as per official documents</small>
            </div>

            <div class="form-group">
                <label for="mobile">Mobile Number *</label>
                <input type="tel" id="mobile" name="mobile" required placeholder="10-digit mobile" pattern="[0-9]{10}"
                    title="Please enter 10-digit mobile number" autocomplete="tel">
                <small class="hint" style="margin-top: 4px;">10 digits without country code or spaces</small>
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" placeholder="Enter email address (optional)">
            <small class="hint" style="margin-top: 4px;">Optional - For communication purposes</small>
        </div>

        <div class="form-group">
            <label for="business_name">Business / Company Name</label>
            <input type="text" id="business_name" name="business_name"
                placeholder="Enter business or company name (if applicable)">
            <small class="hint" style="margin-top: 4px;">Optional - Enter if this is a business loan application</small>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg);">
            <div class="form-group">
                <label for="village">Village / Location</label>
                <input type="text" id="village" name="village" placeholder="Enter village name">
            </div>

            <div class="form-group">
                <label for="customer_date">Registration Date *</label>
                <input type="date" id="customer_date" name="customer_date" value="{{ today }}" required>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg);">
            <div class="form-group">
                <label for="bank_name">Bank Name</label>
                <input type="text" id="bank_name" name="bank_name" placeholder="e.g., State Bank of India">
            </div>

            <div class="form-group">
                <label for="loan_amount">Loan Amount (Rs.)</label>
                <input type="number" id="loan_amount" name="loan_amount" step="0.01" min="0" placeholder="0.00">
            </div>
        </div>

        <div class="form-group" style="margin-top: var(--spacing-lg); display: flex; gap: var(--spacing-md);">
            <button type="submit" class="btn btn-success">Save Customer</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<style>
    /* Responsive layout for smaller screens */
    @media (max-width: 768px) {
        form>div[style*="grid"] {
            grid-template-columns: 1fr !important;
        }
    }
</style>

{% endblock %}